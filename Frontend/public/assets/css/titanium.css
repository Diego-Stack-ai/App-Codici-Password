@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {

    /* -------------------------------------------------------------------------- */
    /* [#1] SFONDO PAGINA                                                         */
    /* -------------------------------------------------------------------------- */
    .titanium-bg {
        @apply transition-colors duration-300;
        @apply bg-slate-200 text-slate-900;
        /* Light */
    }

    .dark .titanium-bg {
        @apply bg-[#0a0f1e] text-white;
        /* Dark */
    }

    /* -------------------------------------------------------------------------- */
    /* [#2] CONTENITORE PRINCIPALE                                                */
    /* -------------------------------------------------------------------------- */
    .titanium-box {
        @apply relative flex min-h-screen w-full flex-col mx-auto shadow-2xl overflow-hidden transition-colors duration-500;
        @apply md:max-w-3xl lg:max-w-5xl;
        @apply bg-gradient-to-br from-[#ffffff] to-[#bfdbfe];
        /* Light High Contrast */
    }

    .dark .titanium-box {
        @apply bg-gradient-to-l from-[#030712] to-[#162e6e];
        /* Dark Originale */
    }

    /* -------------------------------------------------------------------------- */
    /* [#3] FARO ANIMATO (Glass Glow)                                            */
    /* -------------------------------------------------------------------------- */
    .glass-glow {
        position: absolute;
        top: 0;
        left: 50%;
        width: 150%;
        height: 120%;
        filter: blur(80px);
        z-index: 0;
        pointer-events: none;
        animation: glowFloat 5s ease-in-out infinite;
        /* Light: Zenitale Ciano */
        background: radial-gradient(ellipse at 50% 0%, rgba(14, 165, 233, 0.45) 0%, rgba(14, 165, 233, 0.1) 50%, transparent 70%);
        opacity: 1;
        transform: translateX(-50%);
    }

    .dark .glass-glow {
        /* Dark: Originale */
        background: radial-gradient(ellipse at 50% 0%,
                rgba(80, 150, 255, 0.6) 0%,
                rgba(80, 150, 255, 0.2) 25%,
                rgba(80, 150, 255, 0.05) 50%,
                transparent 75%);
        opacity: 1;
    }

    @keyframes glowFloat {
        0% {
            transform: translateX(-50%) translateY(-150px) scale(1);
            opacity: 0.5;
        }

        50% {
            transform: translateX(-50%) translateY(100px) scale(1.4);
            opacity: 1;
        }

        100% {
            transform: translateX(-50%) translateY(-150px) scale(1);
            opacity: 0.5;
        }
    }

    /* -------------------------------------------------------------------------- */
    /* [#4 & #5] HEADER / FOOTER FUSION                                           */
    /* -------------------------------------------------------------------------- */
    .titanium-header {
        @apply fixed top-0 left-0 right-0 mx-auto w-full z-50 p-4 transition-all duration-300;
        @apply md:max-w-3xl lg:max-w-5xl;
        @apply backdrop-blur-md;
        @apply bg-gradient-to-b from-white/90 to-transparent;
        /* Light */
    }

    .dark .titanium-header {
        @apply bg-gradient-to-b from-[#0a0f1e]/90 to-transparent;
        /* Dark */
    }

    .titanium-footer {
        @apply fixed bottom-0 left-0 right-0 mx-auto w-full z-50 transition-all duration-300;
        @apply md:max-w-3xl lg:max-w-5xl;
        @apply backdrop-blur-md;
        @apply bg-gradient-to-t from-white/90 to-transparent;
        /* Light */
    }

    .dark .titanium-footer {
        @apply bg-gradient-to-t from-[#0a0f1e]/90 to-transparent;
        /* Dark */
    }

    /* -------------------------------------------------------------------------- */
    /* [#15] PULSANTI MATRIX DUAL THEME (Con Gradienti Invertiti SX->DX)          */
    /* -------------------------------------------------------------------------- */

    /* Privato (Blue) */
    .btn-matrix-blue {
        @apply relative flex flex-col items-start justify-between p-4 rounded-[24px] shadow-lg overflow-hidden transition-all duration-300 hover:-translate-y-1 group border-0 cursor-pointer;
        /* Light: Molto Chiaro/Luminoso (300 -> 400) */
        @apply bg-gradient-to-r from-[#93c5fd] to-[#60a5fa] text-white;
    }

    .dark .btn-matrix-blue {
        /* Dark: Originale Invertito */
        @apply from-[#2196F3] to-[#1976D2];
    }

    /* Azienda (Green) */
    .btn-matrix-green {
        @apply relative flex flex-col items-start justify-between p-4 rounded-[24px] shadow-lg overflow-hidden transition-all duration-300 hover:-translate-y-1 group border-0 cursor-pointer;
        /* Light: Molto Chiaro/Luminoso (300 -> 400) */
        @apply bg-gradient-to-r from-[#86efac] to-[#4ade80] text-white;
    }

    .dark .btn-matrix-green {
        /* Dark: Originale Invertito */
        @apply from-[#00C853] to-[#2E7D32];
    }

    /* Scadenze (Orange) - Se rimane */
    .btn-matrix-orange {
        @apply relative flex flex-col items-start justify-between p-4 rounded-[24px] shadow-lg overflow-hidden transition-all duration-300 hover:-translate-y-1 group border-0 cursor-pointer;
        /* Light */
        @apply bg-gradient-to-r from-[#fdba74] to-[#fb923c] text-white;
    }

    .dark .btn-matrix-orange {
        @apply from-[#FF9800] to-[#E65100];
    }

    /* URGENZE (Red) - Statico di default? No, gestiamo staticità inline o con classe extra */
    .btn-matrix-red {
        @apply relative flex flex-col items-start justify-between p-4 rounded-[24px] shadow-lg overflow-hidden transition-all duration-300 group border-0;
        /* Light: Red-300 -> Red-500 */
        @apply bg-gradient-to-r from-[#fca5a5] to-[#ef4444] text-white;
    }

    .dark .btn-matrix-red {
        /* Dark: Red-600 -> Red-800 */
        @apply from-[#dc2626] to-[#991b1b];
    }

    /* -------------------------------------------------------------------------- */
    /* UTILITY & HELPERS                                                          */
    /* -------------------------------------------------------------------------- */
    .border-glow {
        position: relative;
    }

    .border-glow::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        padding: 1.5px;
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        pointer-events: none;
        z-index: 20;
        background: linear-gradient(120deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.1) 40%, rgba(255, 255, 255, 0.6) 100%);
    }

    .saetta {
        position: relative;
        overflow: hidden;
    }

    .saetta::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(110deg, transparent 42%, rgba(255, 255, 255, 0.12) 50%, transparent 58%);
        pointer-events: none;
        z-index: 0;
    }

    .glass-shine {
        @apply absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-[24px] pointer-events-none z-10;
    }

    /* Shine automatico su hover solo per elementi interattivi */
    .titanium-interactive:hover .glass-shine {
        opacity: 1;
    }

    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .user-select-none {
        user-select: none;
        -webkit-user-select: none;
    }

    /* INTERATTIVITA' GENERICA */
    .titanium-interactive {
        @apply transition-all duration-300 cursor-pointer;
        @apply hover:-translate-y-1 hover:shadow-lg active:scale-[0.98];
    }

    /* TITANIUM GLASS CARD (Liste) */
    .titanium-glass-card {
        @apply relative rounded-[24px] p-4 border-glow transition-colors duration-300;
        /* Light */
        @apply bg-white/60 shadow-sm border border-slate-200/50;
    }

    .dark .titanium-glass-card {
        /* Dark */
        @apply bg-slate-500/5 backdrop-blur-md border-none;
    }

    /* Compatibilità */
    .matrix-blue {
        @apply btn-matrix-blue;
    }

    .matrix-green {
        @apply btn-matrix-green;
    }

    .matrix-red {
        @apply btn-matrix-red;
    }
}