<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dettaglio Scadenza - Titanium</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- Design System Master (Titanium Protocol V3.1) -->
    <link rel="stylesheet" href="assets/css/Protocollo.css">

    <!-- Core Engine -->
    <script src="assets/js/titanium-config.js?v=3.1"></script>
    <script src="assets/js/titanium-core.js?v=3.1"></script>
    <script type="module" src="assets/js/ui-core.js?v=3.1"></script>
</head>

<body class="titanium-bg">
    <div class="titanium-container">
        <!-- GLOW LAYER -->
        <div class="titanium-glow"></div>

        <!-- Header (Fixed Glass) -->
        <header class="titanium-header">
            <div class="header-balanced-container">
                <!-- ZONA SINISTRA: Navigazione (1 icona) -->
                <div class="header-left">
                    <button onclick="history.back()" class="btn-icon-header">
                        <span class="material-symbols-outlined">arrow_back</span>
                    </button>
                </div>

                <!-- ZONA CENTRO: Titolo con Wrap Intelligente -->
                <div class="header-center">
                    <h2 class="header-title" data-t="detail_page_title">
                        Dettaglio Scadenza
                    </h2>
                </div>

                <!-- ZONA DESTRA: Home (1 icona) -->
                <div class="header-right">
                    <a href="home_page.html" class="btn-icon-header">
                        <span class="material-symbols-outlined">home</span>
                    </a>
                </div>
            </div>
        </header>

        <div class="spacer-header"></div>

        <main class="settings-container no-select">

            <!-- AZIONI (Toolbar) -->
            <div class="settings-group p-0 bg-transparent border-none shadow-none">
                <div class="flex-center-gap-10">
                    <button id="complete-btn" class="btn-icon-header w-8 h-8" title="Archivia">
                        <span class="material-symbols-outlined icon-18">archive</span>
                    </button>

                    <button id="edit-btn" class="btn-icon-header w-8 h-8" title="Modifica">
                        <span class="material-symbols-outlined icon-18">edit</span>
                    </button>

                    <button id="delete-btn" class="btn-icon-header w-8 h-8" title="Elimina">
                        <span class="material-symbols-outlined icon-18">delete</span>
                    </button>
                </div>
            </div>

            <!-- INFO PRINCIPALI (Titanium List Style) -->
            <div class="settings-group">

                <!-- Stato e Titolo -->
                <div class="settings-item">
                    <div class="settings-item-header">
                        <div class="settings-item-info">
                            <div class="settings-icon-box bg-blue-glass">
                                <span class="material-symbols-outlined">event_note</span>
                            </div>
                            <div class="settings-text w-full">
                                <span class="settings-label" data-t="detail_object">Oggetto</span>
                                <span id="detail-title"
                                    class="font-bold text-lg leading-tight block mt-1 text-primary">Caricamento...</span>
                            </div>
                        </div>
                        <span id="status-label"
                            class="text-xs font-black all-caps tracking-widest px-3 py-1 rounded-full border bg-sub border-sub text-secondary">
                            ...
                        </span>
                    </div>
                </div>

                <!-- Intestatario -->
                <div class="settings-item">
                    <div class="settings-item-header">
                        <div class="settings-item-info">
                            <div class="settings-icon-box bg-purple-glass">
                                <span class="material-symbols-outlined">person</span>
                            </div>
                            <div class="settings-text w-full">
                                <span class="settings-label" data-t="holder_label">Intestatario</span>
                                <span id="detail-intestatario"
                                    class="font-bold text-base block mt-1 text-primary">...</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Data e Categoria Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <!-- Data -->
                    <div class="settings-item">
                        <div class="settings-item-header">
                            <div class="settings-item-info">
                                <div class="settings-icon-box bg-red-glass">
                                    <span class="material-symbols-outlined">calendar_month</span>
                                </div>
                                <div class="settings-text">
                                    <span class="settings-label" data-t="label_expiry">Scadenza</span>
                                    <div class="flex items-baseline gap-1 mt-1 text-primary">
                                        <span id="detail-date-day" class="text-xl font-bold">--</span>
                                        <span id="detail-date-year" class="text-sm font-medium opacity-60">----</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Categoria -->
                    <div class="settings-item">
                        <div class="settings-item-header">
                            <div class="settings-item-info">
                                <div class="settings-icon-box bg-emerald-glass">
                                    <span class="material-symbols-outlined">category</span>
                                </div>
                                <div class="settings-text">
                                    <span class="settings-label" data-t="category_label">Categoria</span>
                                    <span id="detail-category"
                                        class="text-base font-medium mt-1 text-primary">...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- Details Sections -->
            <div class="space-y-4">
                <!-- Informazioni Veicolo -->
                <div id="section-vehicle" class="settings-group">
                    <div class="settings-item">
                        <div class="settings-item-header">
                            <div class="settings-item-info">
                                <div class="settings-icon-box bg-blue-glass">
                                    <span class="material-symbols-outlined">directions_car</span>
                                </div>
                                <div class="settings-text w-full">
                                    <span class="settings-label" data-t="section_vehicle">Veicolo</span>
                                    <span id="display-veicolo"
                                        class="font-bold text-sm block mt-1 text-primary break-all">...</span>
                                </div>
                            </div>
                            <button onclick="copyToClipboardText('display-veicolo')"
                                class="size-10 flex items-center justify-center rounded-xl bg-white-5 text-gray-500 hover-text-white transition-colors">
                                <span class="material-symbols-outlined text-20">content_copy</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Configurazione Notifica -->
                <div class="settings-group">
                    <h4 class="settings-group-title" data-t="section_email_config">Configurazione Email</h4>

                    <div class="settings-item">
                        <div class="flex flex-col gap-3 p-4">
                            <div class="flex items-center gap-2">
                                <div class="settings-icon-box bg-purple-glass scale-75">
                                    <span class="material-symbols-outlined">mail</span>
                                </div>
                                <span class="text-xs font-black text-white-40 all-caps tracking-widest"
                                    data-t="email_preview">Anteprima Messaggio</span>
                            </div>
                            <div class="bg-black-20 p-4 rounded-xl border border-white-5">
                                <p id="display-testo-email"
                                    class="text-sm text-gray-300 lh-relaxed font-medium text-pre">...
                                </p>
                            </div>
                        </div>
                    </div>

                    <div id="display-destinatari-wrapper" class="settings-item">
                        <div class="flex flex-col gap-3 p-4">
                            <span class="text-xs font-black text-white-40 all-caps tracking-widest"
                                data-t="recipients_title">Destinatari</span>
                            <div id="display-destinatari" class="grid grid-cols-1 gap-2">
                                <!-- Injected via JS -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Documenti e Allegati -->
                <div id="section-attachments" class="settings-group">
                    <h4 class="settings-group-title" data-t="section_attachments_title">Allegati</h4>
                    <div id="display-attachments" class="p-2 grid grid-cols-1 gap-2">
                        <!-- Injected via JS -->
                    </div>
                </div>

                <!-- Note Aggiuntive -->
                <div class="settings-group">
                    <h4 class="settings-group-title" data-t="section_notes">Note</h4>
                    <div class="settings-item">
                        <div class="p-4">
                            <p id="detail-note-body" class="text-sm text-gray-400 lh-relaxed italic">...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer-spacer h-10"></div>
        </main>

        <div class="spacer-footer"></div>
        <!-- FOOTER PREMIUM -->
        <footer id="footer-placeholder" class="titanium-footer"></footer>
    </div>

    <!-- Scripts -->
    <script type="module" src="assets/js/main.js?v=3.1"></script>
    <script type="module" src="assets/js/dettaglio_scadenza.js?v=3.1"></script>
</body>

</html>